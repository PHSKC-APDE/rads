% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_modeler.R
\name{data_modeler}
\alias{data_modeler}
\title{Generate synthetic data for use in public sharing or testing}
\usage{
data_modeler(
  ph.data,
  number_of_observations = 100,
  comments = TRUE,
  return_code = FALSE,
  print_code = TRUE
)
}
\arguments{
\item{ph.data}{a data.table or data.frame.}

\item{number_of_observations}{Character vector of any length or integer greater than 1. Strings will appear in code as a variable, integers as an integer. If requesting output as data, must be an integer.}

\item{comments}{Logical vector of length 1. Indicate if code should include comments. Comments describe how each column was defined.}

\item{return_code}{Logical vector of length 1. Indicates if the user wants the function to return a list of code strings used to model the data (TRUE) or a data.table of the synthetic data (FALSE)}

\item{print_code}{Logical vector of length 1. Indicates if the code generated by the modeler should be printed to console. Note, if you wish to copy and paste the code for use in your own work, it is recommended to use this console output.}
}
\value{
When \code{return_code = FALSE}, returns a data.table containing synthetic data with the same structure as \code{ph.data}. When \code{return_code = TRUE}, returns a list of character strings that can be evaluated to generate the synthetic data. If \code{print_code = TRUE}, the generated code is also printed to the console. If \code{comments = TRUE}, code will include comments describing the data type of each column.
}
\description{
Receives a data table of public health data and returns a synthetic version that is identically structured but uncorrelated. User may request results as a data.table or as code that will generate the data once executed.
}
\examples{
\donttest{
  library(data.table)
  observations <- 1000
  ph.data <- data.table(
  id = 1:observations,
  chi_geo_kc = sample(c('King County',NA_character_), observations, replace = T),
  chi_race_7 = factor(sample(c("Asian", "AIAN", "Black", "Hispanic", "NHPI", "White", "Other", "Multiple", NA), observations, replace = T, prob = c(.19,.01,.07,.11,.01,.35,.07,.14,.02)), levels = c("Asian", "AIAN", "Black", "Hispanic", "NHPI", "White", "Other", "Multiple", NA)),
  chi_sex = as.factor(sample(c("Male","Female"), observations, replace = T)),
  chi_geo_region = factor(sample(c("South", "North", "Seattle", "East"), observations, replace = T), levels = c("South","North","Seattle","East")),
  indicator1 = as.factor(sample(c("never","sometimes", "always", NA), observations, replace = T)))

  ##Observe that modeled data have the same structure as the original
  DT.synthetic.data <- data_modeler(ph.data = ph.data,
                                   number_of_observations =  10000,
                                   comments = TRUE,
                                   return_code = FALSE,
                                   print_code = FALSE)
  str(ph.data)
  str(DT.synthetic.data)


  ## Manually convert received code into data
  DT.code <- data_modeler(ph.data = ph.data,
                                    number_of_observations =  10000,
                                    comments = TRUE,
                                    return_code = TRUE,
                                    print_code = TRUE)
  codeText <- paste(unlist(DT.code), collapse =" \n" )
  DT.synthetic.data.manual <- eval( parse(text = paste0(codeText)))
  str(ph.data)
  str(DT.synthetic.data.manual)
}

}
\references{
\url{https://github.com/PHSKC-APDE/rads/wiki/utilities#data_modeler}
}
