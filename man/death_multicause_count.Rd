% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/death_functions.R
\name{death_multicause_count}
\alias{death_multicause_count}
\title{Summarize multicause deaths requiring \strong{BOTH} underlying and contributing causes}
\usage{
death_multicause_count(
  ph.data,
  cause_name = NULL,
  underlying_codes = NULL,
  contributing_codes = NULL,
  icdcol = "underlying_cod_code",
  contributing_cols = "record_axis_code",
  contributing_logic = "ANY",
  kingco = TRUE,
  group_by = NULL,
  ypll_age = NULL,
  death_age_col = NULL
)
}
\arguments{
\item{ph.data}{a data.table or data.frame. Must contain death data structured
with one person per row, with at least one column of ICD10 underlying cause
codes and columns for contributing cause codes.}

\item{cause_name}{a character vector of length one that specifies the multicause
death definition from the reference table. For example, \code{"Opioid"}. To see
available options, use \code{rads::death_multicause()}.

The default is \code{NULL}, which means you must specify \code{cause_name} \emph{OR} the
\code{underlying_codes} and \code{contributing_codes} directly.}

\item{underlying_codes}{an optional character vector of ICD10 codes that must
appear in the underlying cause of death. Only used if \code{cause_name} is NULL.
For example, \code{c("X40", "X41", "X42")}.

The default is \code{NULL}.}

\item{contributing_codes}{an optional character vector of ICD10 codes that must
appear in the contributing causes of death. Only used if \code{cause_name} is NULL.
For example, \code{c("T400", "T401")}.

The default is \code{NULL}.}

\item{icdcol}{a character vector of length one that specifies the name of the
column in ph.data that contains the underlying ICD10 death codes.

The default is \code{"underlying_cod_code"}, which is found in properly formatted
death data obtained using the \code{get_data_death()} function.}

\item{contributing_cols}{a character vector of length one that specifies the
stem of the column names containing contributing cause codes. The function
expects columns named with this stem followed by numbers 1-20.

The default is \code{"record_axis_code"}, expecting columns like \code{record_axis_code_1}
through \code{record_axis_code_20}.}

\item{contributing_logic}{a character vector of length one. Specifies whether
ANY or ALL of the \code{contributing_codes} must be present.

The default is \code{"ANY"}.}

\item{kingco}{a logical vector of length one. It specifies whether you want to
limit the analysis to King County.

\strong{NOTE} this only works with data imported with the \code{get_data_death()}
function because it needs the variable \code{chi_geo_kc}.

The default is \code{kingco = TRUE}.}

\item{group_by}{a character vector of indeterminate length. This is used to
specify all the variables by which you want to group (a.k.a. stratify) the
results. For example, if you specified \code{group_by = c('chi_sex', 'chi_race_6')},
the results would be stratified by each combination of sex and race.

The default is \code{group_by = NULL}}

\item{ypll_age}{an optional numeric vector of length 1. When specified, it
should be the age (an integer) used for \strong{Years of Potential Life Lost} (YPLL)
calculations. Valid values are between 1 & 99 (inclusive), though 65 and 85
are the most common. For example, \code{ypll_age = 65} would sum the total number
of years that could have been lived had everyone in the data lived to at least 65.
Note that this function returns the total number of YPLL. Additional
processing is necessary to calculate rates per 100,000.

The default is \code{ypll_age = NULL}, which will skip YPLL calculations.}

\item{death_age_col}{an optional character vector of length one that specifies
the name of the column in ph.data with the decedents' age at death
in years. It is only needed if \code{ypll_age} is specified AND if ph.data lacks
a column named \code{chi_age}.

The default is \code{death_age_col = NULL}.}
}
\value{
Generates a table with three columns: \code{cause.of.death}, \code{deaths}, and
if specified, \code{ypll_##}. Columns in the \code{group_by} argument will also be
returned.
}
\description{
Generate death counts for causes of death that require BOTH specific underlying
causes AND contributing causes. Needs line-level death data with properly
formatted ICD10 columns for both underlying and contributing causes of death.

See \code{\link[=death_multicause]{death_multicause()}} for a complete list of available multicause
definitions.
}
\details{
This function identifies deaths where specific combinations of underlying and
contributing causes must both be present. For example, opioid-related deaths
require poisoning as the underlying cause AND opioid codes in the contributing
causes.

The function will automatically include "All causes" in addition to your
specified multicause definition.
}
\examples{
\dontrun{
# Example using reference table definition
opioid_deaths <- death_multicause_count(
  ph.data = death_data,
  cause_name = "Opioid",
  icdcol = "underlying_cod_code",
  contributing_cols = "record_axis_code",
  kingco = TRUE
)

# Example using custom codes
custom_deaths <- death_multicause_count(
  ph.data = death_data,
  underlying_codes = c("X40", "X41", "X42"),
  contributing_codes = c("T400", "T401"),
  contributing_logic = "ANY",
  icdcol = "underlying_cod_code",
  contributing_cols = "record_axis_code",
  kingco = FALSE
)
}

}
\seealso{
\itemize{
\item \code{\link[=death_multicause]{death_multicause()}} for viewing available multicause definitions
\item \code{\link[=get_data_death]{get_data_death()}} for importing properly formatted death data
\item \code{\link[=age_standardize]{age_standardize()}} for calculating age standardized rates
\item \code{\link[=death_113_count]{death_113_count()}} for generating CDC NCHS 113 leading causes of death counts
\item \code{\link[=death_130_count]{death_130_count()}} for generating CDC NCHS 130 causes of infant death counts
\item \code{\link[=death_injury_matrix_count]{death_injury_matrix_count()}} for generating injury matrix counts
\item \code{\link[=death_other_count]{death_other_count()}} for generating counts of causes NOT included in the NCHS
113 Causes of death or injury matrix
}
}
\keyword{mortality}
\keyword{multicause}
