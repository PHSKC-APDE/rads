% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/death_functions.R
\name{death_other_count}
\alias{death_other_count}
\title{Summarize "Other" causes of deaths}
\usage{
death_other_count(
  ph.data = NULL,
  cause = NULL,
  icdcol = "underlying_cod_code",
  kingco = T,
  group_by = NULL,
  ypll_age = NULL,
  death_age_col = NULL
)
}
\arguments{
\item{ph.data}{a data.table or data.frame. Must contain death data structured
with one person per row and with at least one column of ICD10 death codes.}

\item{cause}{a character vector specifying the complete or partial
keyword for the cause of death of interest. It is not case sensitive and you
can specify it in two ways: 1) \code{cause = c('induce', 'overdose')} or 2)
\code{cause = c("induce|overdose")}.

The default is \code{cause = NULL}.}

\item{icdcol}{a character vector of length one that specifies the name of the
column in ph.data that contains the ICD10 death codes of interest.

The default is \code{underlying_cod_code}, which is found in the properly
formatted death data obtained using the \code{get_data_death()} function.}

\item{kingco}{a logical vector of length one. It specifies whether you want to
limit the analysis to King County.

\strong{NOTE}
this only works with data imported with the \code{get_data_death()} function.

The default is kingco = TRUE.}

\item{group_by}{a character vector of indeterminate length. This is used to
specify all the variables by which you want to group (a.k.a. stratify) the
results. For example, if you specified \code{group_by = c('chi_sex',
'chi_race_6')}, the results would be stratified by each combination of sex
and race.

The default is \code{group_by = NULL}}

\item{ypll_age}{an optional numeric vector of length 1. When specified, it
should be the age (an integer) used for \strong{Years of Potential Life Lost} (YPLL)
calculations. Valid values are between 1 & 99 (inclusive), though 65 and 85 are the most
common. For example, \code{ypll_age = 65} would sum the total number of years
that could have been lived had everyone in the data lived to at least 65.
Note that this function returns the total number of YPLL. Additional
processing is necessary to calculate rates per 100,000.

The default is \code{ypll_age = NULL}, which will skip YPLL calculations.}

\item{death_age_col}{an optional character vector of length one that specifies
the name of the column in ph.data with the decedents' age at death
in years. It is only needed if \code{ypll_age} is
specified AND if ph.data lacks columns named \code{date_of_birth} and
\code{date_of_death} that are of class \code{"Date"}. If the latter two
columns exist, the code calculates the age at death for you.

The default is \code{death_age_col = NULL}.'}
}
\value{
Generates a table with two columns: \code{cause.of.death} and \code{deaths}.
If \code{ypll_age} is specified, a \code{ypll_##} column will also be added to the
table. Columns in the \code{group_by} argument will also be returned.
}
\description{
Generate death counts for causes of death that are \strong{NOT} included in the NCHS
113 Causes of death (see \code{?death_113_count}) or the CDC death injury
matrix (see \code{?death_injury_matrix_count}).

Needs line-level death data with a properly formatted ICD10 column.

Use the \code{cause} argument to specify the cause(s) for which you desire to
obtain death counts.
}
\details{
None
}
\examples{
# example 1: death count only
set.seed(98104)
deathdata <- data.table::data.table(
  cod.icd10 = c(rep("D52.1", round(runif(1, 30, 100000), 0)),
                rep("E66.1", round(runif(1, 30, 100000), 0)),
                rep("K85.3", round(runif(1, 30, 100000), 0)),
                rep("X85", round(runif(1, 30, 100000), 0)),
                rep("R78.4", round(runif(1, 30, 100000), 0)),
                rep("Y13.2", round(runif(1, 30, 100000), 0)),
                rep("X42.3", round(runif(1, 30, 100000), 0)),
                rep("X60.7", round(runif(1, 30, 100000), 0)),
                rep("J70.3", round(runif(1, 30, 100000), 0)))
)
eg1 <- death_other_count(ph.data = deathdata,
                       cause = "dose|induce",
                       icdcol = "cod.icd10",
                       kingco = FALSE,
                       ypll_age = NULL,
                       death_age_col = NULL)
eg1[]

# example 2: with YPLL calculation
deathdata2 <- data.table::copy(deathdata)
set.seed(98104)
deathdata2[, ageofdeath := rads::round2(rnorm(1, mean = 70, sd = 5 ), 0),
           1:nrow(deathdata2)] # synthetic age of death
eg2 <- death_other_count(ph.data = deathdata2,
                       cause = "dose|induce",
                       icdcol = "cod.icd10",
                       kingco = FALSE,
                       ypll_age = 65,
                       death_age_col = "ageofdeath")
eg2[]

}
